{% extends 'dashboard_base_student.html' %}
{% block title %}Request a Lesson{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="text-center text-dashboard-purple mt-4">Request a Lesson</h1>
  <p class="text-center text-dashboard-purple mb-4">Here you can request a new lesson tailored to your needs.</p>

  <!-- Display form errors if any -->
  {% if form.errors %}
  <div class="alert alert-danger">
    <p><strong>There were errors with your submission:</strong></p>
    <ul>
      {% for field, errors in form.errors.items %}
        <li><strong>{{ field|capfirst }}</strong>: {{ errors|join:", " }}</li>
      {% endfor %}
      {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <!-- Lesson Request Form -->
  <form method="post" action="" class="p-4 bg-dark-purple rounded">
    {% csrf_token %}

    <!-- Topic Card -->
    <div class="card mb-4">
      <div class="card-header bg-dashboard-purple text-white">
        Topic
      </div>
      <div class="card-body">
        <label for="id_requested_topic" class="form-label text-dark">Select the topic you'd like to learn:</label>
        {{ form.requested_topic }}
      </div>
    </div>

    <!-- Frequency Card -->
    <div class="card mb-4">
      <div class="card-header bg-dashboard-purple text-white">
        Lesson Frequency
      </div>
      <div class="card-body">
        <label for="id_requested_frequency" class="form-label text-dark">How often would you like lessons?</label>
        {{ form.requested_frequency }}
      </div>
    </div>

    <!-- Duration Card -->
    <div class="card mb-4">
      <div class="card-header bg-dashboard-purple text-white">
        Lesson Duration
      </div>
      <div class="card-body">
        <label for="id_requested_duration" class="form-label text-dark">Select the duration of each lesson:</label>
        {{ form.requested_duration }}
      </div>
    </div>

    <!-- Preferred Date Card -->
    <div class="card mb-4">
      <div class="card-header bg-dashboard-purple text-white">
        Preferred Date
      </div>
      <div class="card-body">
        <label for="id_requested_date" class="form-label text-dark">Which date works best for you?</label>
        {{ form.requested_date }}
      </div>
    </div>

    <!-- Preferred Time Card -->
    <div class="card mb-4">
      <div class="card-header bg-dashboard-purple text-white">
        Preferred Time
      </div>
      <div class="card-body">
        <label for="id_requested_time" class="form-label text-dark">Choose your preferred time:</label>
        {{ form.requested_time }}
      </div>
    </div>

    <!-- Experience Level Card -->
    <div class="card mb-4">
      <div class="card-header bg-dashboard-purple text-white">
        Experience Level
      </div>
      <div class="card-body">
        <label for="id_experience_level" class="form-label text-dark">Describe your current experience level:</label>
        {{ form.experience_level }}
      </div>
    </div>

    <!-- Additional Notes Card -->
    <div class="card mb-4">
      <div class="card-header bg-dashboard-purple text-white">
        Additional Notes
      </div>
      <div class="card-body">
        <label for="id_additional_notes" class="form-label text-dark">Any extra information or requests?</label>
        {{ form.additional_notes }}
      </div>
    </div>

    <button type="submit" class="btn btn-dashboard-purple btn-lg w-100 mt-3">Submit</button>
  </form>
</div>
{% endblock %}
